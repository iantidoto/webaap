<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Gestión Zen</title>
  <meta name="description" content="Gestión Zen: clientes, proyectos, tareas y agenda en una sola vista." />
  <meta name="theme-color" content="#0b6" />
  <base href="/webaap/">
  <link rel="manifest" href="/webaap/manifest.json" />
  <link rel="stylesheet" href="/webaap/styles.css" />
</head>
<body>
  <noscript>Esta app requiere JavaScript.</noscript>

  <header class="site-header">
    <h1>Gestión Zen</h1>
    <nav aria-label="Principal">
      <button id="btnInstall" class="btn secondary" hidden>Instalar</button>
    </nav>
  </header>

  <main id="main" class="container">
    <section aria-labelledby="dash-title" class="card">
      <h2 id="dash-title">Resumen</h2>
      <div class="grid-4">
        <div class="kpi">
          <span class="kpi-label">Clientes</span>
          <span class="kpi-value" id="kpi-clientes" aria-live="polite">0</span>
        </div>
        <div class="kpi">
          <span class="kpi-label">Proyectos</span>
          <span class="kpi-value" id="kpi-proyectos" aria-live="polite">0</span>
        </div>
        <div class="kpi">
          <span class="kpi-label">Tareas</span>
          <span class="kpi-value" id="kpi-tareas" aria-live="polite">0</span>
        </div>
        <div class="kpi">
          <span class="kpi-label">Agenda</span>
          <span class="kpi-value" id="kpi-agenda" aria-live="polite">0</span>
        </div>
      </div>
    </section>

    <section aria-labelledby="clientes-title" class="card">
      <h2 id="clientes-title">Clientes</h2>
      <form id="formCliente" class="row">
        <label class="sr-only" for="cli-nombre">Nombre</label>
        <input id="cli-nombre" name="nombre" required placeholder="Nombre del cliente" />
        <select id="cli-estado" name="estado">
          <option value="activo">Activo</option>
          <option value="inactivo">Inactivo</option>
        </select>
        <button class="btn">Añadir</button>
      </form>
      <ul id="lista-clientes" class="list"></ul>
    </section>

    <section aria-labelledby="proy-title" class="card">
      <h2 id="proy-title">Proyectos</h2>
      <form id="formProyecto" class="row">
        <select id="proy-cliente" name="clienteId" required></select>
        <input id="proy-titulo" name="titulo" required placeholder="Título del proyecto" />
        <select id="proy-estado" name="estado">
          <option value="abierto">Abierto</option>
          <option value="en_progreso">En progreso</option>
          <option value="cerrado">Cerrado</option>
        </select>
        <button class="btn">Añadir</button>
      </form>
      <ul id="lista-proyectos" class="list"></ul>
    </section>

    <section aria-labelledby="tareas-title" class="card">
      <h2 id="tareas-title">Tareas</h2>
      <form id="formTarea" class="row">
        <select id="tarea-proyecto" name="proyectoId" required></select>
        <input id="tarea-titulo" name="titulo" required placeholder="Título de la tarea" />
        <select id="tarea-estado" name="estado">
          <option value="pendiente">Pendiente</option>
          <option value="haciendo">Haciendo</option>
          <option value="hecho">Hecho</option>
        </select>
        <button class="btn">Añadir</button>
      </form>
      <ul id="lista-tareas" class="list"></ul>
    </section>

    <section aria-labelledby="agenda-title" class="card">
      <h2 id="agenda-title">Agenda</h2>
      <form id="formAgenda" class="row">
        <input id="ag-asunto" name="asunto" required placeholder="Asunto" />
        <input id="ag-fecha" name="fecha" type="date" required />
        <button class="btn">Añadir</button>
      </form>
      <ul id="lista-agenda" class="list"></ul>
    </section>
  </main>

  <footer class="site-footer">
    <small>Local-first. PWA. Sin servidor.</small>
  </footer>

  <script defer src="/webaap/script.js"></script>
</body>
</html>
